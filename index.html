<!DOCTYPE HTML>
<html>
    <head>
        <title>js.nation</title>
        <!-- CDN -->
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- jQuery -->
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!-- jQuery UI -->
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
        <!-- Datbase Wrapper -->
        <script src="https://unpkg.com/dexie@1.5.1/dist/dexie.js"></script>
        <!-- Semantic OwO -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.js"></script>
        <!-- three.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js"></script>
        <!-- JsRender -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrender/0.9.84/jsrender.min.js"></script>

        <!-- templates -->
        <script id="table-row-template" type="text/html">
            <tr class="song-row" data-songid="{{:id}}">
                {{if img !== undefined}}
                    <td><img width="50px" src="{{:img}}"></td>
                {{else}}
                    <td></td>
                {{/if}}
                <td><a onclick="javascript:Database.handlePlay({{:id}})" class="interactable">Play</a></td>
                <td class="row-title">{{:title}}</td>
                <td class="row-artist">{{:artist}}</td>
                <td><a onclick="javascript:Database.handleRemove({{:id}})" class="interactable">Remove</a></td>
                <td>{{:duration}}</td>
            </tr>
        </script>

        <!-- Local -->
        <!-- Styles -->
        <link rel="stylesheet" type="text/css" href="./css/main.css">
        <link rel="stylesheet" type="text/css" href="./css/gui.css">
        <link rel="stylesheet" type="text/css" href="./css/background.css">
        <!-- audio -->
        <script src="./js/audio/loader.js"></script>
        <script src="./js/audio/nodes.js"></script>
        <!-- math -->
        <script src="./js/math/math_constants.js"></script>
        <script src="./js/math/transform.js"></script>
        <!-- misc -->
        <script src="./js/misc/callbacks.js"></script>
        <script src="./js/misc/config.js"></script>
        <script src="./js/misc/util.js"></script>
        <script src="./js/misc/database.js"></script>
        <script src="./js/misc/id3-minimized.js"></script>
        <script src="./js/misc/io_handler.js"></script>
        <!-- model -->
        <script src="./js/model/particle_data.js"></script>
        <script src="./js/model/priority.js"></script>
        <script src="./js/model/song.js"></script>
        <!-- visual -->
        <script src="./js/visual/background.js"></script>
        <!-- visual/emblem -->
        <script src="./js/visual/emblem/canvas.js"></script>
        <script src="./js/visual/emblem/emblem.js"></script>
        <script src="./js/visual/emblem/spectrum.js"></script>
        <!-- visual/gl -->
        <script src="./js/visual/gl/lighting.js"></script>
        <script src="./js/visual/gl/particles.js"></script>
        <script src="./js/visual/gl/renderer.js"></script>
        <script src="./js/visual/gl/scene.js"></script>
        <script src="./js/visual/gl/shaders.js"></script>
        <!-- visual/gui -->
        <script src="./js/visual/gui/audio_wrap.js"></script>
        <script src="./js/visual/gui/gui_wrapper.js"></script>
        <!-- root -->
        <script src="./js/main.js"></script>
    </head>
    <body>
        <div id="gui-full">
            <div class="vert-cen" id="gui-full-holder">
                <div class="absolute-center" id="controls">
                    <div class="ui fluid action input inverted">
                        <input type="text" readonly Value="Select Audio File">
                        <input accept="audio/*" type="file" id="fileSelector">
                        <div class="ui icon button interactable">
                            <i class="cloud upload icon"></i>
                        </div>
                    </div>
                    <table class="ui selectable inverted table" id="db-view" border="1"></table>
                    <div class="ui input">
                        <input type="text" id="field-artist" placeholder="Artist" disabled>
                    </div>
                    <div class="ui input">
                        <input type="text" id="field-title" placeholder="Title" disabled>
                    </div>
                    <button class="ui button interactable" id="add2DB" disabled>Add To Database</button>
                    <button class="ui button interactable" id="viewDB">Refresh Datbase</button>
                    <button class="ui button interactable" id="delDB">Delete Datbase</button>
                </div>
            </div>
        </div>
        
        <div class="flex" id="gui-top">
            <div id="song-info">
                <div id="gui-artist"></div>
                <div id="gui-title"></div>
            </div>
        </div>

        <div class="flex" id="gui-bottom">
            <!-- Left -->
            <button class="ui button inverted transparent interactable" onclick="GuiWrapper.openGui();" id="view-database">View Database</button>
            <!-- Center -->
            <div class="flex" id="audio-player">  
                <div class="flex main-controls">
                    <span id="previous" class="fa fa-step-backward interactable"></span>
                    <span id="play" class="fa fa-pause interactable"></span>
                    <span id="next" class="fa fa-step-forward action"></span>
                </div>
                <span id="time" class="time">00:00</span>
                <progress id="progressbar" class="flex-auto interactable" value="0" max="100"></progress>
                <span id="mute" class="fa fa-volume-up interactable"></span>
                <progress id="volume" class="flex-auto interactable" value="100" max="100"></progress>
            </div>
            <!-- TODO: Fix Me Plz -->
            <audio autoplay id="audio"></audio>
            <!-- Right -->
            <div id="elm-credit">
                <p id="love">
                    Made with &#128153;
                    <br>
                    by <a href="//caseif.net" target="_blank"rel="noopener noreferrer">caseif</a> & <a href="//incept.online" target="_blank" rel="noopener noreferrer">Incept</a>
                </p>
            </div>

        </div>
    
        <div id="content">
            <canvas id="canvas" style="display: block;"></canvas>
        </div>
        <div id="background" class="lazyaf">
            <img src="" class="bgleft" id="limg1" onerror="this.style.display='none'">
            <img src="" class="bgright" id="limg2" onerror="this.style.display='none'">
        </div>
        <div id="background" class="realbg">
            <img src="" class="bgleft" id="bgimg1" onload="javascript:Background.fadeFullRes(this)" onerror="this.style.display='none'">
            <img src="" class="bgright" id="bgimg2" onload="javascript:Background.fadeFullRes(this)" onerror="this.style.display='none'">
        </div>
    </body>
    <!-- dat.GUI -->
    <!-- boi, tf you defining scripts here for -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.0/dat.gui.min.js"></script>
    <script src="./js/visual/dat-gui-cfg.js"></script>
</html>
